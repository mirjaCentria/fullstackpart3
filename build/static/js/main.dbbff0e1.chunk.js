(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t(1),a=t.n(c),r=t(14),u=t.n(r),l=(t(20),t(3)),s=function(e){var n=e.addPerson,t=e.handleNameChange,c=e.handleNumberChange,a=e.name,r=e.number;return console.log("personform ",a,r),Object(o.jsxs)("form",{onSubmit:n,children:[Object(o.jsxs)("div",{children:["name:",Object(o.jsx)("input",{name:"name",value:a,onChange:t})]}),Object(o.jsxs)("div",{children:["number:",Object(o.jsx)("input",{name:"number",value:r,onChange:c})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})},i=function(e){var n=e.persons,t=e.newFilter,c=e.delPerson;return console.log("showbbpersons ",n),Object(o.jsx)("div",{children:n.filter((function(e){return(e.name||"").toLowerCase().includes((t||"").toLowerCase())})).map((function(e){return Object(o.jsxs)("div",{children:[e.name,"  ",e.number,Object(o.jsx)("button",{onClick:function(){return c(e)},children:"Delete"})]},e.name)}))})},d=function(e){var n=e.newFilter,t=e.handleFilterChange;return Object(o.jsxs)("div",{children:["filter shown with",Object(o.jsx)("input",{value:n,onChange:t})]})},b=t(4),j=t.n(b),h="http://localhost:3001/api/persons",f=function(){var e=j.a.get(h);return console.log({baseUrl:h}),e.then((function(e){return e.data}))},m=function(e){return j.a.post(h,e).then((function(e){return e.data}))},O=function(e){return j.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},g=(t(38),function(){var e=Object(c.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(""),u=Object(l.a)(r,2),b=u[0],j=u[1],h=Object(c.useState)(""),g=Object(l.a)(h,2),v=(g[0],g[1],Object(c.useState)("")),p=Object(l.a)(v,2),x=p[0],w=p[1],C=Object(c.useState)(""),k=Object(l.a)(C,2),S=k[0],F=k[1],P=Object(c.useState)(null),N=Object(l.a)(P,2),y=(N[0],N[1],Object(c.useState)(null)),D=Object(l.a)(y,2),L=D[0],T=D[1];Object(c.useEffect)((function(){console.log("effect"),f().then((function(e){a(e)}))}),[]);var A=function(e){var n=e.message;return null===n?null:Object(o.jsx)("div",{className:"error",children:n})};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(A,{message:L}),Object(o.jsx)(d,{value:S,handleFilterChange:function(e){e.preventDefault(),console.log("filter ",e.target.value),F(e.target.value)}}),Object(o.jsx)("h3",{children:"Add new person"}),Object(o.jsx)(s,{addPerson:function(e){e.preventDefault();var n={name:b,number:x};t.some((function(e){return e.name===b}))?(window.alert(b+" is already added to phonebook"),console.log("button clicked alert",e.target)):(console.log("Add",n.name),m(n).then((function(e){a(t.concat(e)),j(""),w(""),T("Person '".concat(n.name,"' was added to phonebook")),setTimeout((function(){T(null)}),5e3)})))},handleNameChange:function(e){console.log(e.target.value),j(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)},name:b,number:x}),Object(o.jsx)("h3",{children:"Numbers"}),Object(o.jsx)(i,{persons:t,newFilter:S,delPerson:function(e){console.log("delete ",e),!0===window.confirm("Do you really want to delete ".concat(e.name,"?"))&&(O(e.id),a(t.filter((function(n){return n.id!==e.id}))),T("Person '".concat(e.name,"' was removed from phonebook")),setTimeout((function(){T(null)}),5e3))}})]})}),v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),o(e),c(e),a(e),r(e)}))};u.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root")),v()}},[[39,1,2]]]);
//# sourceMappingURL=main.dbbff0e1.chunk.js.map